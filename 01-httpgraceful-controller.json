{
   "kind":"ReplicationController",
   "apiVersion":"v1",
   "id":"httpgraceful-controller-1",
   "metadata":{
      "name":"httpgraceful-controller-1"
   },
   "spec":{
      "replicas":10,
      "selector":{
         "app":"httpgraceful-app",
         "version":"v1"
      },
      "template":{
         "metadata":{
            "labels":{
               "app":"httpgraceful-app",
               "version":"v1"
            }
         },
         "spec":{
            "containers":[
               {
                  "name":"httpgraceful-container",
                  "image":"192.168.59.103:5000/httpgraceful:latest",
                  "ports":[
                     {
                        "containerPort":80
                     },
                     {
                        "containerPort":8080
                     }
                  ],
                  "readynessProbe":{
                     "httpGet":{
                        "path":"/ready",
                        "port":8080,
                        "initialDelaySeconds":10,
                        "timeoutSeconds":1
                     }
                  },
                  "lifecycle":{
                     "prestop":{
                        "httpGet":{
                           "path":"/prestop",
                           "port":8080
                        }
                     }
                  }
               }
            ]
         }
      }
   }
}
